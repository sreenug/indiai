<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    
    <title>IndiaI-Add School</title>

    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <style type="text/css">
		body {
		  min-height: 2000px;
		  padding-top: 70px;
		}
	</style>

  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><img style="width:150px;" src="http://indiai.org/wp-content/uploads/2014/04/indiai-logo-20140415.jpg"></a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Add School</a></li>
          </ul>          
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">

      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
        <form class="form-horizontal" id="school_form" role="form" action="/" method="POST" enctype="multipart/form-data">
			{% csrf_token %}
			{% load app_tags %}
			{% for f in form %}
			<div class="form-group">
				{% if f.label == 'Image' %}
					<label for="{{f.label}}" class="col-sm-2 control-label">School Photo</label>
				{% else %}
					<label for="{{f.label}}" class="col-sm-2 control-label">{{f.label}}</label>
				{% endif %}
				<div class="col-sm-10">
					{{ f|placeholder:f.label }}
				</div>
			</div>
			{% endfor %}
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button class="btn btn-lg btn-primary" type="submit">Save</button>
				</div>
			</div>
		</form>        
      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="//ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script>
	<script type="text/javascript">
        $(document).ready ( function(){
            var lat, lng;

            navigator.geolocation.getCurrentPosition(function(position)
            { 
                lat = position.coords.latitude;
                lng = position.coords.longitude;
                console.log( lat + ":" + lng);
                $("input#id_latitude").val(lat);
                $("input#id_longitude").val(lng);
            });
			
			
			$("#school_form").validate({
				rules: {
					name: {
						required: true,
						minlength: 2,
						maxlength: 200						
					},
					lowest_class: "required",
					highest_class: "required",
					recognized: "required",
					management_type: "required",
					medium_of_instruction : "required",
					street_address_1: "required",
					street_address_2: "required",
					city: "required",
					state: "required",
					pincode: "required",
				},
				messages: {
					name: {
						required: 'Name is required',
						minlength: 'Min allowed length for name is 2 chars',
						maxlength: 'Max allowed length for name is 200 chars'					
					},
					lowest_class: "Enter Lowest Class",
					highest_class: "Enter Highest Class",
					recognized: "Enter Recognized",
					management_type: "Enter Management Type",
					medium_of_instruction : "Enter Medium of instructions",
					street_address_1: "Enter Street Address Line 1",
					street_address_2: "Enter Street Address Line 2",
					city: "Enter Street City",
					state: "Enter State",
					pincode: "Enter Pincode",
				}
			});
			
			
        });

    </script>
	
  </body>
</html>
